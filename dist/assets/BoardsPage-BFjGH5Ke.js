import{d as h,a as v,e as y,r as o,j as e,L as p,P as S,M as x}from"./index-C9fwvYx2.js";import{T as k}from"./trending-up-Df3ln2eu.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=h("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),I=[{id:"assignments",name:"授業課題"},{id:"lab-work",name:"実験課題"},{id:"midterm",name:"中間試験"},{id:"final",name:"期末試験"},{id:"graduate",name:"大学院試験"},{id:"job-hunting",name:"就職活動"},{id:"other",name:"その他"}];function B(){const{t:a}=v(),[b]=y(),[c,j]=o.useState(""),[n,N]=o.useState("latest"),[u,f]=o.useState([]),[g,w]=o.useState(!0),i=b.get("topic"),d=I.find(s=>s.id===i);o.useEffect(()=>{let r=[{id:"1",title:"制御工学基礎 課題1",topicId:"assignments",topicName:"授業課題",postCount:15,latestPostAt:new Date(Date.now()-18e5),isSolved:!1},{id:"2",title:"物理数学 中間試験対策",topicId:"midterm",topicName:"中間試験",postCount:8,latestPostAt:new Date(Date.now()-72e5),isSolved:!0}];switch(i&&(r=r.filter(t=>t.topicId===i)),c&&(r=r.filter(t=>t.title.toLowerCase().includes(c.toLowerCase()))),n){case"latest":r.sort((t,l)=>l.latestPostAt.getTime()-t.latestPostAt.getTime());break;case"popular":r.sort((t,l)=>l.postCount-t.postCount);break;case"unanswered":r.sort((t,l)=>Number(t.isSolved)-Number(l.isSolved));break}f(r),w(!1)},[i,c,n]);const m=s=>{N(s)};return g?e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),e.jsx("div",{className:"h-10 bg-muted rounded"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsx("div",{className:"h-20 bg-muted rounded"},s))})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:d?a("topic.filtered",{name:d.name}):a("boards.title")}),e.jsxs(p,{to:"/boards/create",className:"btn btn-primary btn-sm",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),a("boards.new")]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:a("boards.searchPlaceholder"),value:c,onChange:s=>j(s.target.value),className:"input pl-10 w-full"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>m("latest"),className:`btn btn-sm ${n==="latest"?"btn-primary":"btn-outline"}`,children:[e.jsx(C,{className:"h-4 w-4 mr-1"}),a("boards.sort.latest")]}),e.jsxs("button",{onClick:()=>m("popular"),className:`btn btn-sm ${n==="popular"?"btn-primary":"btn-outline"}`,children:[e.jsx(k,{className:"h-4 w-4 mr-1"}),a("boards.sort.popular")]}),e.jsxs("button",{onClick:()=>m("unanswered"),className:`btn btn-sm ${n==="unanswered"?"btn-primary":"btn-outline"}`,children:[e.jsx(x,{className:"h-4 w-4 mr-1"}),a("boards.sort.unanswered")]})]})]})]}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:a("boards.noBoards")}),e.jsx("p",{className:"text-muted-foreground",children:d?`${d.name}の掲示板はまだありません`:"掲示板はまだありません"})]}):e.jsx("div",{className:"space-y-4",children:u.map(s=>e.jsx(p,{to:`/boards/${s.id}`,className:"card hover:shadow-md transition-shadow",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-foreground mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsx("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-xs",children:s.topicName}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"h-4 w-4"}),s.postCount," 投稿"]}),e.jsx("span",{children:s.latestPostAt.toLocaleDateString()})]})]}),e.jsx("div",{className:"flex gap-2",children:s.isSolved?e.jsx("span",{className:"badge badge-success",children:a("boards.badges.solved")}):e.jsx("span",{className:"badge badge-warning",children:a("boards.badges.unanswered")})})]})})},s.id))})]})}export{B as default};
